"use strict";var a=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var R=(t,r)=>{for(var e in r)a(t,e,{get:r[e],enumerable:!0})},l=(t,r,e,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of x(r))!k.call(t,n)&&n!==e&&a(t,n,{get:()=>r[n],enumerable:!(i=O(r,n))||i.enumerable});return t},o=(t,r,e)=>(l(t,r,"default"),e&&l(e,r,"default"));var g=t=>l(a({},"__esModule",{value:!0}),t);var p={};R(p,{default:()=>m});module.exports=g(p);var u=require("request-ip"),c=require("@openpanel/sdk");o(p,require("@openpanel/sdk"),module.exports);function m(t){return function(e,i,n){let s=new c.OpenpanelSdk(t),d=(0,u.getClientIp)(e);if(d&&(s.api.headers["x-forwarded-for"]=d),t.getProfileId){let f=t.getProfileId(e);f&&s.setProfileId(f)}return t.trackRequest?.(e.url)&&s.event("request",{url:e.url,method:e.method,query:e.query}),e.op=s,n()}}0&&(module.exports={...require("@openpanel/sdk")});
//# sourceMappingURL=index.cjs.map
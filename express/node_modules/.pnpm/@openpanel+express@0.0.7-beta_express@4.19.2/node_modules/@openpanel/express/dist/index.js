import{getClientIp as s}from"request-ip";import{OpenpanelSdk as i}from"@openpanel/sdk";export*from"@openpanel/sdk";function l(t){return function(e,d,o){let r=new i(t),n=s(e);if(n&&(r.api.headers["x-forwarded-for"]=n),t.getProfileId){let p=t.getProfileId(e);p&&r.setProfileId(p)}return t.trackRequest?.(e.url)&&r.event("request",{url:e.url,method:e.method,query:e.query}),e.op=r,o()}}export{l as default};
//# sourceMappingURL=index.js.map